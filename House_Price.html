<html>
<head>
</head>
<body>
<div id="1"></div></br>
<div id="2"></div></br>
<div id="3"></div></br>
<script>
//loading house data
//house_data: size, location, price
var house_data=[];
house_data[0]=[132,13228,20000];
house_data[1]=[148,13487,30000];
house_data[2]=[122,13499,40000];

var parameter=[0,0,0];		//parameter set

var update=[0,0,0];		//update cache

parameter.converge_test=function(beta)
{
	var sum=0;
	for(var j=0;j<house_data.length;j++)
	{
		sum+=Math.pow((house_data[j][2]-(this[0]*1+this[1]*house_data[j][0]+this[2]*house_data[j][1])),2);
	}
	dev=0.5*sum;
	
	if(dev<beta)
	{
		return true;
	}
	else
		return false;
}

parameter.update=function(a){
	var sum=0;
	
	for(var i=0;i<this.length;i++)
	{	
		for(var j=0;j<house_data.length;j++)
		{
			sum+=(house_data[j][2]-(this[0]*1+this[1]*house_data[j][0]+this[2]*house_data[j][1]))*house_data[j][i];
		}
		update[i]=sum*a;
	}
	alert(update[0]);
	
	for(var z=0;z<parameter.length;z++)
	{
		parameter[z]+=update[z];
	}
}

batchGradientDescent=function(converge_condition,learning_rate) 
{
	var result=parameter.converge_test(converge_condition);

	while(!result)
	{
		parameter.update(learning_rate);
		result=parameter.converge_test(converge_condition);
	}
}

batchGradientDescent(0.01,0.01);

</script>
</body>
</html>
